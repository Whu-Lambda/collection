è¦ç‚¹ï¼š

- æŒæ¡ Rust è¯­è¨€åŸºæœ¬çš„ç±»å‹

Rust è¯­è¨€åŸºç¡€æ•°æ®ç±»å‹ï¼ˆPrimitive Typesï¼‰ä¸»è¦æœ‰å¦‚ä¸‹å‡ ç±»ï¼š

# æ ‡é‡

## æ•´æ•°

| Length  | Signed  | Unsigned |
| ------- | ------- | -------- |
| 8-bit   | `i8`    | `u8`     |
| 16-bit  | `i16`   | `u16`    |
| 32-bit  | `i32`   | `u32`    |
| 64-bit  | `i64`   | `u64`    |
| 128-bit | `i128`  | `u128`   |
| arch    | `isize` | `usize`  |

## æµ®ç‚¹æ•°ï¼š`f32, f64`ã€‚

æ•´æ•°ä½¿ç”¨ç¤ºä¾‹ï¼š

```rust
fn main() {
    let a: i32 = 10;
    let f = 3.14;
    let b = 5i8;
    let c = 100_000_000;
    let pi = 3.141_592_653_59f64;

    let y = a + f;
    println!("{}", y);
}
```
ä»ä»¥ä¸Šä¾‹å­å¯ä»¥æ€»ç»“å¦‚ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š

- å¯ä»¥åœ¨å­—é¢å€¼åé¢æ¥ç±»å‹ï¼š`let b = 5i8;`
- å¯ä»¥ç”¨ä¸‹åˆ’çº¿åˆ†å‰²æ•°å­—ä»¥æé«˜å¯è¯»æ€§ã€‚
- å¯ä»¥ä¸ç”¨å†™ç±»å‹æç¤ºï¼Œè€Œä½¿ç”¨ç±»å‹æ¨å¯¼ã€‚

ä½†è¿è¡Œä»¥ä¸Šä»£ç ä¼šæŠ¥é”™ï¼š


```shell
error[E0277]: cannot add `{float}` to `i32`
  --> src\main.rs:29:15
   |
29 |     let y = a + f;
   |               ^ no implementation for `i32 + {float}`
   |
   = help: the trait `Add<{float}>` is not implemented for `i32`

error:
```

è¿™æ˜¯å› ä¸º Rust è¯­è¨€ä¸æ”¯æŒæ•°å­—ç±»å‹çš„éšå¼è½¬æ¢ï¼Œä½¿ç”¨ `as` è¿›è¡Œç±»å‹è½¬æ¢ï¼š

```rust
fn main() {
    let a: i32 = 10;
    let f = 3.14;

    let y = a as f32 + f;
    println!("{}", y); // 13.14
}
```


## å­—ç¬¦ï¼š`char`

```rust
fn main() {
    let x = 'x';
    let y: char = 'ğŸ˜';
    let zh = 'ä¸­';
    println!("{}: {}", x, x.len_utf8());
    println!("{}: {}", y, y.len_utf8());
    println!("{}: {}", zh, zh.len_utf8())
}
```

è¿è¡Œä»£ç ï¼š

```shell
x: 1
ğŸ˜: 4
ä¸­: 3
```

ä»¥ä¸Šç¤ºä¾‹è¡¨æ˜ Rust çš„å­—ç¬¦æ˜¯ Unicode å­—ç¬¦ã€‚æ³¨æ„å­—ç¬¦è¦ç”¨å•å¼•å·ã€‚


## å¸ƒå°”å‹ï¼š`bool`

å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼š`true, false`ï¼Œä¸èƒ½æŠŠ `0, None` ç­‰ç”¨ä½œå¸ƒå°”å‹ã€‚

```rust
let is_active = true;
let has_finished: bool = false;
```


## å•ä½ç±»å‹ï¼ˆunit typeï¼‰ï¼š `()`

å¸¸ç”¨ä½œè¡¨è¾¾å¼çš„é»˜è®¤è¿”å›å€¼ï¼Œä¸€ä¸ªè¡¨è¾¾å¼æ²¡æœ‰æ˜¾ç¤ºè¿”å›å€¼ï¼Œå°±é»˜è®¤è¿”å› `()`ã€‚

```rust
fn plus_one(x: &i32) {
    let y = x + 1;
    // do something else
}

fn main() {
    let x = 42i32;
    println!("{:?}", plus_one(&x)); // ()
}
```



# ç»„åˆç±»å‹

## æ•°ç»„ï¼ˆarrayï¼‰ï¼š`[T; length]`

```rust
use std::mem;

fn main() {
    let numbers: [i32; 5] = [1, 2, 3, 4, 5];
    println!("index 0: {}", numbers[0]);
    println!("out of index: {}", numbers[5]);

    println!("length: {}", numbers.len());

    println!(
        "i32: {} bytes, numbers array: {} bytes",
        mem::size_of_val(&0i32),
        mem::size_of_val(&numbers)
    );
    let zeros = [0i32; 5];
    println!("{:?}", zeros);
}
```

è¿è¡Œä»¥ä¸Šä»£ç ä¼šæŠ¥é”™ï¼š

```shell
error: this operation will panic at runtime
 --> src\main.rs:6:34
  |
6 |     println!("out of index: {}", numbers[5]);
  |                                  ^^^^^^^^^^ index out of bounds: the length is 5 but the index is 5
  |
  = note: `#[deny(unconditional_panic)]` on by default

error: 
```

è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ•…æ„å–äº†ä¸€ä¸ªç ´ç»½ï¼š`println!("out of index: {}", numbers[5]);`ï¼Œæ³¨é‡Šæœ¬è¡Œåè¿è¡Œï¼š

```shell
index 0: 1
length: 5
i32: 4 bytes, numbers array: 20 bytes
[0, 0, 0, 0, 0]
```

ğŸ“è¦ç‚¹æ€»ç»“ï¼š

ï¼ˆ1ï¼‰æ•°ç»„å£°æ˜éœ€è¦æŒ‡å®šå…ƒç´ ç±»å‹ä¸å…ƒç´ ä¸ªæ•°ï¼Œå…ƒç´ ä¸ªæ•°åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†ï¼Œè¿è¡Œæ—¶ä¸èƒ½æ”¹å˜ã€‚æ•°ç»„åœ¨å†…å­˜ä¸Šè¡¨ç°ä¸ºä¸€æ®µè¿ç»­çš„å†…å­˜ï¼Œè®¿é—®æ•°ç»„å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ºå¸¸æ•°ã€‚

ï¼ˆ2ï¼‰ç±»å‹æç¤ºå¯ä»¥ä½¿ç”¨ç±»å‹æ¨å¯¼è€Œçœç•¥ã€‚

ï¼ˆ3ï¼‰Rust è¯­è¨€ä¸å…è®¸æ•°ç»„è¶Šç•Œã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ç§ä¸æ•°ç»„ç´§å¯†ç›¸å…³çš„ç±»å‹ï¼š

## åˆ‡ç‰‡ï¼ˆsliceï¼‰

å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š

```rust
fn main() {
    let numbers: [i32; 5] = [1, 2, 3, 4, 5];
    let skip_first = &numbers[1..];
    println!("&numbers[1..]: {:?}", skip_first);

    println!("&numbers[1..3]: {:?}", &numbers[1..3]);
    println!("&numbers[..3]: {:?}", &numbers[..3]);
    println!("&numbers[..]: {:?}", &numbers[..]);
}
```

è¿è¡Œå¯ä»¥å¾—åˆ°ï¼š

```shell
&numbers[1..]: [2, 3, 4, 5]
&numbers[1..3]: [2, 3]
&numbers[..3]: [1, 2, 3]
&numbers[..]: [1, 2, 3, 4, 5]
```

ğŸ“ è¦ç‚¹æ€»ç»“ï¼š

ï¼ˆ1ï¼‰åˆ‡ç‰‡å°±æ˜¯æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œç›¸å½“äºä¸€ä¸ªå­æ•°ç»„ã€‚

ï¼ˆ2ï¼‰åˆ‡ç‰‡çš„è§„åˆ™éµå¾ªå·¦é—­å³å¼€æƒ¯ä¾‹ï¼š$[start, end)$ã€‚

ï¼ˆ3ï¼‰åˆ©ç”¨åˆ‡ç‰‡å¯ä»¥éå¸¸æ–¹ä¾¿çš„æˆªå–æ•°ç»„ã€‚

## å­—ç¬¦ä¸²åˆ‡ç‰‡(&str)

å­—ç¬¦ä¸²æ˜¯ Rust è¯­è¨€çš„ä¸€ä¸ªéš¾ç‚¹ã€‚äº‹å®ä¸Šï¼Œå­—ç¬¦ä¸²ç±»å‹æ˜¯æ¯ç§è¯­è¨€ç”¨å¾—æœ€å¤šçš„ç±»å‹ï¼Œå› ä¸ºè®¡ç®—æœºæœ¬è´¨ä¸Šæ˜¯ä¸ºäººæœåŠ¡çš„ã€‚æŸäº›åº•å±‚è¯­è¨€ä¾‹å¦‚ C è¯­è¨€å¤„ç†å­—ç¬¦ä¸²æ˜¯ç›¸å½“ç—›è‹¦çš„ï¼Œå› ä¸ºå®ƒæŠŠå­—ç¬¦ä¸²å½“åšæ•°ç»„å¤„ç†ï¼Œç”±æ­¤å¸¦æ¥è®¸å¤šé—®é¢˜ï¼šæ•°ç»„å¤§å°ä¸å¯å˜ï¼Œæ•°ç»„è¶Šç•Œç­‰ï¼Œè€Œä¸”å­—ç¬¦ä¸²ç›¸å…³çš„å‡½æ•°ç”¨èµ·æ¥ä¹Ÿä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚è®¸å¤šé«˜çº§è¯­è¨€å¯¹å­—ç¬¦ä¸²è¿›è¡Œäº†å°è£…ï¼Œå…¶ä¸­æ¥å£æ¸…æ™°ã€å¥½ç”¨çš„æ˜¯ [JavaScript String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)ï¼Œå»ºè®®é€šè¿‡è¿™ä¸ªå­¦ä¹ å­—ç¬¦ä¸²ã€‚

Rust è¯­è¨€å¸¸ç”¨çš„å­—ç¬¦ä¸²åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆ&strï¼‰ï¼Œå¦ä¸€ç§æ˜¯å †å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼Œå…ˆçœ‹ä¾‹å­ï¼š

```rust
fn main() {
    // example 1
    let hello = "ä½ å¥½";
    let rust: &'static str = "Rust";
    println!("{}, {}", hello, rust); // ä½ å¥½, Rust

    // example 2
    println!("{}", hello.len()); // 6
    println!("{}", hello.chars().count()); // 2
    println!("{}", hello.is_empty()); // false

    // example 3
    // println!("{}", hello[0]);
    println!("{:?}", &hello[..3]); // "ä½ "

    // example 4
    let path = "/home/root/rust \n";
    println!("{:?}", path.starts_with("/")); // true
    println!("{:?}", path.trim()); // "/home/root/rust"
}
```

ğŸ“ è¦ç‚¹æ€»ç»“ï¼š

ï¼ˆ1ï¼‰ä¾‹1è¡¨æ˜ Rust å­—ç¬¦ä¸²å­—é¢å€¼æ˜¯ `&'static str`ï¼Œ`'static` è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²å…·æœ‰é™æ€ç”Ÿå‘½å‘¨æœŸã€‚

ï¼ˆ2ï¼‰ä¾‹2è¡¨æ˜ Rust å­—ç¬¦ä¸²é•¿åº¦ä¸å­—ç¬¦ä¸ªæ•°æ˜¯ä¸¤ç äº‹ã€‚

ï¼ˆ3ï¼‰ä¾‹3å±•ç¤ºäº†åˆ‡ç‰‡çš„ç”¨æ³•ï¼Œå¯ä»¥å°è¯•åˆ‡ä¸€ä¸‹ `&hello[..2]`ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

ï¼ˆ4ï¼‰ä¾‹4å±•ç¤ºäº†ä¸€äº›æœ‰å…³å­—ç¬¦ä¸²å¤„ç†çš„æ–¹æ³•ï¼Œæ›´å¤šæ–¹æ³•è¯·é˜…è¯» [str](https://doc.rust-lang.org/std/primitive.str.html#)ã€‚

è¡¥å……ï¼šå †å­—ç¬¦ä¸²ç”¨æ³•ï¼š

```rust
fn main() {
    let mut hello = String::from("ä½ å¥½");
    hello.push_str(", rust");
    println!("{:?}", hello); // "ä½ å¥½, rust"

    println!("{:?}", hello + ", å—¯mua"); // "ä½ å¥½, rust, å—¯mua"

    let mut result = String::new();
    result = format!("{} + {} = {}", 600, 66, 600 + 66);
    println!("{:?}", result); // "600 + 66 = 666"
}
```

å¦‚æœä½ ä¸çŸ¥é“ç”¨å“ªä¸ªï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç­–ç•¥ï¼š

ï¼ˆ1ï¼‰å¸¸å­—ç¬¦ä¸²ï¼šä¸å˜çš„ï¼Œèƒ½æ”¾è¿›æºä»£ç é‡Œçš„å°±ç”¨ `&str`ï¼›

ï¼ˆ2ï¼‰å †å­—ç¬¦ä¸²ï¼šå¯å˜çš„ï¼Œä»ç½‘ç»œï¼Œæ–‡ä»¶ç³»ç»Ÿã€ç”¨æˆ·è¾“å…¥è·å–çš„å­—ç¬¦ä¸²å°±ç”¨å †å­—ç¬¦ä¸²ã€‚

ğŸ’¡ çº¦å®šï¼šä»¥åæˆ‘ä»¬æŠŠå †å­—ç¬¦ä¸²ç®€ç§°ä¸ºå­—ç¬¦ä¸²ï¼Œå¸¸å­—ç¬¦ä¸²ï¼Œé™æ€å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡éƒ½è¡¨ç¤º  `&str` ã€‚

## å…ƒç»„ï¼ˆtupleï¼‰ï¼š`(T1, T2, ...)`

```rust
fn main() {
    let a: (i32, f64, bool, char) = (1, 1.5, true, 'a');
    println!("{:?}", a);

    let complex = (0, 1);
    println!("real:{}, image: {}", complex.0, complex.1);

    let (real, image) = complex;
    println!("complex= {} + {}i", real, image);

    let matrix = ((1.0, 2.0, 3.0), (4.0, 5.0, 6.0));
    println!("{:?}", matrix);

    let (first_row, _) = matrix;
    println!("first row: {:?}", first_row);
}
```

è¿è¡Œä¸Šè¿°ç¨‹åºï¼š

```shell
(1, 1.5, true, 'a')
real:0, image: 1
complex= 0 + 1i
((1.0, 2.0, 3.0), (4.0, 5.0, 6.0))
first row: (1.0, 2.0, 3.0)
```

ğŸ“ è¦ç‚¹æ€»ç»“ï¼š

ï¼ˆ1ï¼‰å¯ä»¥çœ‹åˆ°ï¼Œå…ƒç»„æ˜¯ç”±`()` ç»„ç»‡èµ·æ¥çš„ä¸€ä¸ªæ•´ä½“ï¼Œå®ƒçš„å…ƒç´ ç±»å‹å¯ä»¥ä¸åŒã€‚

ï¼ˆ2ï¼‰ç¬¬äºŒä¸ªä¾‹å­æˆ‘ä»¬ç”¨å…ƒç»„è¡¨ç¤ºä¸€ä¸ªè™šæ•°ï¼šæŠŠç¬¬ä¸€ä¸ªå…ƒç´ å½“åšå®éƒ¨ï¼ŒæŠŠç¬¬äºŒä¸ªå…ƒç´ å½“åšè™šéƒ¨ã€‚å¯ä»¥çœ‹åˆ°å…ƒç»„è·å–å…ƒç´ çš„æ–¹æ³•æ˜¯ `complex.0`ã€‚

ï¼ˆ3ï¼‰å¯ä»¥ç”¨ç±»ä¼¼ `let (real, image) = complex;` çš„æ–¹æ³•è§£æ„ï¼ˆDestructï¼‰å…ƒç»„å¹¶æŠŠç›¸åº”çš„å€¼ç»‘å®šåˆ°æŸäº›å˜é‡ï¼Œä¸ç”¨çš„å€¼å¯ä»¥ç”¨ `_` è·³è¿‡ã€‚



# æ›´å¤šèµ„æ–™

1. å®˜ç½‘æ–‡æ¡£ï¼šhttps://doc.rust-lang.org/std/index.html#primitives
2. å­¦ä¹ åšå®¢ï¼šhttps://learning-rust.github.io/docs/a8.primitive_data_types.html
3. å®˜æ–¹ç¤ºä¾‹ï¼šhttps://doc.rust-lang.org/rust-by-example/primitives.html
4. å®˜æ–¹æ•™ç¨‹ï¼šhttps://doc.rust-lang.org/book/ch03-02-data-types.html

